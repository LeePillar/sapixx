{extend name="index/layout" /}
{block name='main'}
{if !empty($list)}
<div class="empty">
    <div class="empty-icon text-primary"><i class="icon bi-app-indicator"></i></div>
    <p class="empty-title text-bold">无应用上架</p>
    <p class="empty-subtitle">本平台暂无上架任何应用,感谢关注.</p>
</div>
{else}
<div class="cols">
    {foreach $list as $key => $vo}
    <div class="col col-4 col-xl-6 col-sm-12 pb-16" >
        <a class="card card-hover round" href="{:url('index/index/details',['id' => $vo.id])}">
            <div class="card-body p-relative">
                <div class="tile">
                    <div class="tile-icon"><img class="w80 rounded img-responsive" src="{$vo.logo}"></div>
                    <div class="tile-content">
                        <div class="tile-title h5 text-dark">{$vo.title}</div>
                        <div class="tile-subtitle mt-8 text-dark">{$vo.about??''}</div>
                    </div>
                    <div class="tile-action text-gray"><span class="widget-price text-error text-big text-bold">{$vo.price}</span>/年</div>
                </div>
                {if $vo.qrcode}
                <div class="qrcode p-absolute c-hand" x-data="{show:false}" >
                    <i class="icon icon-5x bi-qr-code-scan"  @click.way="show = !show"></i>
                    <div class="p-absolute rounded scancode shadow-lg" x-show="show" @click.away = "show = false" x-transition><img class="rounded img-responsive" src="{$vo.qrcode}"></div>
                </div>
                {/if}
            </div>
            <div class="card-body">
                <ul class="list">
                    <li class="list-item">应用类型{foreach $vo.config.types as $title}<span class="ml-8 tag">{$title}</span>{/foreach}</li>
                    <li class="list-item">支付方式{foreach $vo.config.payment as $title}<span class="ml-8 tag">{$title}</span>{/foreach}</li>
                    <li class="list-item">应用接入<span class="ml-16 status status-{$vo.config.is_open_wechat?'success':'error'}">{$vo.config.open_wechat_text}</span></li>
                    <li class="list-item">体验天数<span class="ml-16 text-gray">{$vo.expire_day}</span>天</li>
                </ul>
            </div>
        </a> 
    </div>
    {/foreach}
</div>
<div class="card-footer">{$list|raw}</div>
{/if}
{/block}